import{p as $,I as N,G as fe,m as me,l as T,v as w,e as E,c as s,d as ve,ae as Ve,H as Ce,t as b,q as n,s as Y,r as O,aa as te,D as A,y as ge,C as ye,F as le,i as he,a5 as L,af as be,S as _e,L as ne,U as H,ac as q,ag as z,$ as ke,V as P,W as R,X as r,a2 as J,a1 as D,ah as F,Y as Se,Z as xe,ai as Ie,aj as pe}from"./index-6c488268.js";import{V as U,a as _,b as ae}from"./VRow-62f0d181.js";import{m as oe,d as De,a as G,R as Be,t as j,n as Pe,u as Fe,v as Ue}from"./loader-5954510c.js";import{c as we,e as Ae,u as $e,f as Z}from"./VInput-0e44e47a.js";import{V as Re}from"./VCard-4b23ae69.js";import"./createSimpleFunctional-219776a8.js";const ue=Symbol.for("vuetify:selection-control-group"),re=$({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:N,trueIcon:N,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:fe},...oe(),...De(),...me()},"SelectionControlGroup"),Te=$({...re({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");T()({name:"VSelectionControlGroup",props:Te(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:V}=c;const l=w(e,"modelValue"),o=E(),m=s(()=>e.id||`v-selection-control-group-${o}`),v=s(()=>e.name||m.value),u=new Set;return ve(ue,{modelValue:l,forceUpdate:()=>{u.forEach(i=>i())},onForceUpdate:i=>{u.add(i),Ve(()=>{u.delete(i)})}}),Ce({[e.defaultsTarget]:{color:b(e,"color"),disabled:b(e,"disabled"),density:b(e,"density"),error:b(e,"error"),inline:b(e,"inline"),modelValue:l,multiple:s(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),name:v,falseIcon:b(e,"falseIcon"),trueIcon:b(e,"trueIcon"),readonly:b(e,"readonly"),ripple:b(e,"ripple"),type:b(e,"type"),valueComparator:b(e,"valueComparator")}}),G(()=>{var i;return n("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(i=V.default)==null?void 0:i.call(V)])}),{}}});const ie=$({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...oe(),...re()},"VSelectionControl");function Ge(e){const c=he(ue,void 0),{densityClasses:V}=Pe(e),l=w(e,"modelValue"),o=s(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),m=s(()=>e.falseValue!==void 0?e.falseValue:!1),v=s(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),u=s({get(){const C=c?c.modelValue.value:l.value;return v.value?L(C).some(d=>e.valueComparator(d,o.value)):e.valueComparator(C,o.value)},set(C){if(e.readonly)return;const d=C?o.value:m.value;let t=d;v.value&&(t=C?[...L(l.value),d]:L(l.value).filter(h=>!e.valueComparator(h,o.value))),c?c.modelValue.value=t:l.value=t}}),{textColorClasses:i,textColorStyles:g}=Fe(s(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor})),{backgroundColorClasses:y,backgroundColorStyles:k}=Ue(s(()=>u.value&&!e.error&&!e.disabled?e.color:void 0)),S=s(()=>u.value?e.trueIcon:e.falseIcon);return{group:c,densityClasses:V,trueValue:o,falseValue:m,model:u,textColorClasses:i,textColorStyles:g,backgroundColorClasses:y,backgroundColorStyles:k,icon:S}}const K=T()({name:"VSelectionControl",directives:{Ripple:Be},inheritAttrs:!1,props:ie(),emits:{"update:modelValue":e=>!0},setup(e,c){let{attrs:V,slots:l}=c;const{group:o,densityClasses:m,icon:v,model:u,textColorClasses:i,textColorStyles:g,backgroundColorClasses:y,backgroundColorStyles:k,trueValue:S}=Ge(e),C=E(),d=s(()=>e.id||`input-${C}`),t=Y(!1),h=Y(!1),f=O();o==null||o.onForceUpdate(()=>{f.value&&(f.value.checked=u.value)});function x(I){t.value=!0,be(I.target,":focus-visible")!==!1&&(h.value=!0)}function a(){t.value=!1,h.value=!1}function p(I){e.readonly&&o&&_e(()=>o.forceUpdate()),u.value=I.target.checked}return G(()=>{var W,X;const I=l.label?l.label({label:e.label,props:{for:d.value}}):e.label,[B,ce]=te(V),M=n("input",A({ref:f,checked:u.value,disabled:!!(e.readonly||e.disabled),id:d.value,onBlur:a,onFocus:x,onInput:p,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:S.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},ce),null);return n("div",A({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":t.value,"v-selection-control--focus-visible":h.value,"v-selection-control--inline":e.inline},m.value,e.class]},B,{style:e.style}),[n("div",{class:["v-selection-control__wrapper",i.value],style:g.value},[(W=l.default)==null?void 0:W.call(l,{backgroundColorClasses:y,backgroundColorStyles:k}),ge(n("div",{class:["v-selection-control__input"]},[((X=l.input)==null?void 0:X.call(l,{model:u,textColorClasses:i,textColorStyles:g,backgroundColorClasses:y,backgroundColorStyles:k,inputNode:M,icon:v.value,props:{onFocus:x,onBlur:a,id:d.value}}))??n(le,null,[v.value&&n(j,{key:"icon",icon:v.value},null),M])]),[[ye("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),I&&n(we,{for:d.value,clickable:!0,onClick:de=>de.stopPropagation()},{default:()=>[I]})])}),{isFocused:t,input:f}}}),se=$({indeterminate:Boolean,indeterminateIcon:{type:N,default:"$checkboxIndeterminate"},...ie({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Q=T()({name:"VCheckboxBtn",props:se(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,c){let{slots:V}=c;const l=w(e,"indeterminate"),o=w(e,"modelValue");function m(i){l.value&&(l.value=!1)}const v=s(()=>l.value?e.indeterminateIcon:e.falseIcon),u=s(()=>l.value?e.indeterminateIcon:e.trueIcon);return G(()=>{const i=ne(K.filterProps(e),["modelValue"]);return n(K,A(i,{modelValue:o.value,"onUpdate:modelValue":[g=>o.value=g,m],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:v.value,trueIcon:u.value,"aria-checked":l.value?"mixed":void 0}),V)}),{}}}),je=$({...Ae(),...ne(se(),["inline"])},"VCheckbox"),ee=T()({name:"VCheckbox",inheritAttrs:!1,props:je(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,c){let{attrs:V,slots:l}=c;const o=w(e,"modelValue"),{isFocused:m,focus:v,blur:u}=$e(e),i=E(),g=s(()=>e.id||`checkbox-${i}`);return G(()=>{const[y,k]=te(V),S=Z.filterProps(e),C=Q.filterProps(e);return n(Z,A({class:["v-checkbox",e.class]},y,S,{modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,id:g.value,focused:m.value,style:e.style}),{...l,default:d=>{let{id:t,messagesId:h,isDisabled:f,isReadonly:x}=d;return n(Q,A(C,{id:t.value,"aria-describedby":h.value,disabled:f.value,readonly:x.value},k,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,onFocus:v,onBlur:u}),l)}})}),{}}}),Le={class:"text-h4"},Ne=H({__name:"RessourceDiff",setup(e){const c=q(),{selectedChange:V}=z(c),l=s(()=>V.value.change),o=O(!1),m=O(!0),v=s(()=>JSON.stringify(l.value.before,null,2)),u=s(()=>JSON.stringify(l.value.after,null,2)),i=s(()=>m.value?"split":"unified"),g=s(()=>l.value.actions.join(", "));function y(a){return S(a)?"error":k(a)?"success":"warning"}function k(a){return h(a)||d(a)}function S(a){return f(a)||x(a)}function C(a){return x(a)?"mdi mdi-swap-horizontal":f(a)?"mdi mdi-delete":h(a)?"mdi mdi-plus":t(a)?"mdi mdi-pencil":d(a)?"mdi mdi-file-search-outline":"mdi mdi-alert"}function d(a){return a.includes("read")}function t(a){return a.includes("update")}function h(a){return a.includes("create")}function f(a){return a.includes("delete")}function x(a){return a.includes("delete")&&a.includes("create")}return(a,p)=>{const I=ke("Diff");return P(),R(U,null,{default:r(()=>[n(_,{cols:"12"},{default:r(()=>[n(U,{justify:"center"},{default:r(()=>[n(_,{cols:"auto"},{default:r(()=>[n(ee,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=B=>o.value=B),label:"Hide unchanged Lines"},null,8,["modelValue"])]),_:1}),n(_,{cols:"auto"},{default:r(()=>[n(ee,{modelValue:m.value,"onUpdate:modelValue":p[1]||(p[1]=B=>m.value=B),label:"Side by side diff"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(_,{cols:"12"},{default:r(()=>[n(U,{justify:"center",align:"center"},{default:r(()=>[n(_,{cols:"auto"},{default:r(()=>[J("div",Le,[n(j,{color:y(l.value.actions),icon:C(l.value.actions),title:l.value.actions},null,8,["color","icon","title"]),D(" "+F(g.value),1)])]),_:1}),n(_,{cols:"12"},{default:r(()=>[n(I,{class:"diff",mode:i.value,folding:o.value,language:"json",prev:v.value,current:u.value},null,8,["mode","folding","prev","current"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),Oe=H({__name:"ChangeCards",setup(e){const c=q(),{selectedChange:V}=z(c),l=s(()=>c.rootPlan.resource_changes.filter(t=>t.change.actions[0]!=="no-op"));function o(t){c.setSelectedChange(t)}function m(t){return t.address===V.value.address?"outlined":"flat"}function v(t){return i(t)?"error":u(t)?"success":"warning"}function u(t){return S(t)||y(t)}function i(t){return C(t)||d(t)}function g(t){return d(t)?"mdi mdi-swap-horizontal":C(t)?"mdi mdi-delete":S(t)?"mdi mdi-plus":k(t)?"mdi mdi-pencil":y(t)?"mdi mdi-file-search-outline":"mdi mdi-alert"}function y(t){return t.includes("read")}function k(t){return t.includes("update")}function S(t){return t.includes("create")}function C(t){return t.includes("delete")}function d(t){return t.includes("delete")&&t.includes("create")}return(t,h)=>(P(),R(ae,null,{default:r(()=>[(P(!0),Se(le,null,xe(l.value,f=>(P(),R(Re,{key:f.address,onClick:x=>o(f),class:"mx-auto ma-2",variant:m(f)},{prepend:r(()=>[n(j,{color:v(f.change.actions),icon:g(f.change.actions),title:f.change.actions},null,8,["color","icon","title"])]),title:r(()=>[D(F(f.name),1)]),subtitle:r(()=>[D(F(f.type),1)]),text:r(()=>[D(F(f.address),1)]),_:2},1032,["onClick","variant"]))),128))]),_:1}))}}),Ee=J("div",{class:"text-h2 py-2"},"Change",-1),He={class:"py-2 text-medium-emphasis"},Ye=H({__name:"Changes",setup(e){const c=q(),V=Ie(),{rootPlan:l,selectedChange:o}=z(c),m=s(()=>l.value.resource_changes.filter(u=>u.change.actions[0]!=="no-op")),v=s(()=>{let u=new Date(l.value.timestamp);return V.format(u,"keyboardDate")+" "+u.toLocaleTimeString()});return(u,i)=>(P(),R(ae,{class:"mb-6"},{default:r(()=>[n(U,{justify:"center"},{default:r(()=>[n(_,{sm:12,md:3},{default:r(()=>[n(U,null,{default:r(()=>[n(_,{cols:"12"},{default:r(()=>[Ee]),_:1}),n(_,{cols:"12"},{default:r(()=>[J("div",He,[n(j,null,{default:r(()=>[D("mdi mdi-calendar-clock")]),_:1}),D(" Created: "+F(v.value),1)])]),_:1}),n(_,{cols:"12"},{default:r(()=>[n(Oe,{"relevant-changes":m.value},null,8,["relevant-changes"])]),_:1})]),_:1})]),_:1}),n(_,{sm:12,md:9},{default:r(()=>[n(Ne,{change:pe(o).change},null,8,["change"])]),_:1})]),_:1})]),_:1}))}});export{Ye as default};
